/*!
 * calendar v1.0.0
 * Chinese lunar calendar
 * https://passer-by.com/calendar/
 *
 * Copyright (c) 2022-present, HaoLe Zheng
 *
 * Released under the MIT License
 * https://github.com/mumuy/calendar
 *
 * Created on: 2023-07-13
 */
!function(l,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(l="undefined"!=typeof globalThis?globalThis:l||self).calendar=a()}(this,(function(){"use strict";const l=["日","一","二","三","四","五","六"];function a(l,a,k){return Date.UTC(l,a-1,k,0,0,0)}function k(a){let k=new Date(a),n=k.getDay();return{sYear:k.getFullYear(),sMonth:k.getMonth()+1,sDay:k.getDate(),week:n,weekZH:"星期"+l[n]}}const n=1900,t=2100,e=["iuo","in0","19bg","l6l","1kj0","1mag","2pak","ll0","16mg","lei","in0","19dm","196g","1kig","3kil","1da0","1ll0","1bd2","15dg","2ibn","ibg","195g","1d5l","qig","ra0","3aqk","ar0","15bg","kni","ibg","pb6","1l50","1qig","rkl","mmg","ar0","31n3","14n0","3i6n","1iag","1l50","3m56","1dag","ll0","39dk","9eg","14mg","1kli","1aag","1dan","r50","1dag","2kql","jd0","19dg","2hbj","klg","1ad8","1qag","ql0","1bl6","1aqg","ir0","1an4","19bg","kj0","1sj3","1mag","mqn","ll0","15mg","jel","img","196g","1l6k","1kig","1lao","1da0","1dl0","35d6","15dg","idg","1abk","195g","1cjq","qig","ra0","1bq6","1ar0","15bg","inl","ibg","p5g","t53","1qig","qqo","le0","1ar0","15ml","14n0","1ib0","1mak","1l50","1mig","tai","ll0","1atn","9eg","14mg","1ill","1aag","1d50","1el4","1bag","lep","it0","19dg","2kbm","klg","1a9g","uak","ql0","1bag","mqi","ir0","19n6","1970","1kj0","1qj5","1l9g","ml0","tl3","15mg","inr","img","196g","3k5m","1kig","1l90","1na5","1dd0","lmg","ldi","idg","19bn","195g","1aig","3cil","r90","1bd0","2ir3","14rg","ifo","ibg","p5g","2q56","1qig","qp0","39m4","1an0","18n0","1kn3","1ib0","1lan","1l50","1mig","nal","ll0","19mg","lek","kmg","1ado","1aag","1d50","1dl6","1bag","ld0","1at4","19dg","klg","1cjj","q9g","spn","ql0","1bag","2iql","ir0","19bg","l74","1kb0","1qb8","1l90","1ml0","2ql6","lmg","in0","1aek","18mg","1kag","1sii","1l90"],g=["正","二","三","四","五","六","七","八","九","十","冬","腊"],r=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],i=Date.UTC(n,0,30,0,0,0);function o(l){return 15&parseInt(e[l-n],32)}function c(l){let a=0,k=parseInt(e[l-n],32);for(let l=32768;l>=16;l>>=1)a+=k&l?30:29;return o(l)&&(a+=65536&k?30:29),a}function m(l){let a,k=Math.floor((l-i)/864e5),m=0,u=0,d=0,s=!1;if(k<0)return null;let f=0;for(m=n;m<=t&&(a=c(m),!(f+a>=k));m++)f+=a;let h=parseInt(e[m-n],32),j=o(m);for(k-=f,f=0,u=1;u<=12&&(a=h&1<<16-u?30:29,!(f+a>=k));u++)if(f+=a,j&&u==j){if(a=65536&h?30:29,f+a>=k){s=!0;break}f+=a}return d=k-f,{lYear:m,lMonth:u,lDay:d,isLeap:s,lMonthZH:(s?"闰":"")+g[u-1]+"月",lDayZH:r[d-1]}}function u(){return Array.from(arguments).map((function(l){return(""+l).padStart(2,"0")})).join("-")}const d=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],s=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];function f(l,k,n){let t=Math.round((a(l,k,n)-a(1900,1,30))/864e5)+39;t=t%60>0?t%60:t%60+60;let e=t%12;return d[t%10]+s[e]}const h=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],j=["4lkmd5j6l5","55kql9lal9","59lanalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","4lkql9lal9","55kqlalala","5ananalqla","5akmd5j5kl","4lkqd9l6l5","55kqlalal9","5ananalqla","5akmd5j5kl","4lkmd9l6l5","55kqlalal9","59lanalqla","5akmd5j5kl","4lkmd9l6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5aklclj5al","4lkmd5j5kl","4lkql9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l5","55kql9lal9","5aalclb5al","2lkmd5j5kl","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lklclj5al","4lkmd5j6l5","55kql9l6l9","59a5alalal","2lklclb5al","4lkmd5j5l5","55kqd9l6l9","59a5alalal","2lklclb5al","4lkmd5j5kl","4lkmd9l6l9","55a5akalal","2lclclb5al","2lkmd5j5kl","4lkmd5l6l5","55a5akalak","2lalclalal","2lkmclj5kl","4lkmd5j6l5","55a5akalak","2kalclalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lklclb5al","4lkmd5j6l5","55a5akahak","2ka5alalal","2lklclb5al","4lkmd5j5l5","55a52kahak","2ka5akalal","2lklclb5al","4lkmd5j5kl","4la12kahak","2ga5akalal","2lclclb5al","2lkmclj5kl","4la12g8hak","2ga5akalak","2lalclalal","2lkmclj5kl","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga52kahak","2ka5alalal","2lklclb5al","4la12g8gag","2ga12kahak","2ka5akalal","2lklclb5al","4la1208ga0","20a12g8hak","2ga5akalal","2lalclalal","2la1208ga0","20a12g8hak","2ga5akalal","2lalalalal","2la1208ga0","20a12g8hag","2ga5akalak","2lalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la0200g00","20a12g8hag","2ga52kahak","2kalalalal","2la0200g00","20a12g8gag","2ga52kahak","2ka5akalal","2la0200g00","20a12g8gag","2ga12gahak","2ka5akalal","2la0200g00","20a1208ga0","2ga12g8hak","2ga5akalal","2l00200000","a1208ga0","20a12g8hak","2ga5akalal","2l00000000","a1208ga0","20a12g8hag","2ga5akalak","2l00000000","a1208g00","20a12g8hag","2ga5akalak","2k00000000","a1200g00","20a12g8hag","2ga5akalak","2kalalalal"],q=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];function b(l){if(l<n||l>t)return!1;let a=j[l-n],k=parseInt(a,32).toString(4);return 24!=k.length&&(k="0"+k),k.split("").map((function(l,a){return+l+h[a]}))}const p=["水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"],D=[20,19,21,20,21,22,23,23,23,24,23,22];const y=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];const M={"01-01":"元旦","02-14":"情人节","03-08":"妇女节","03-12":"植树节","04-01":"愚人节","05-01":"劳动节","05-04":"青年节","06-01":"儿童节","07-01":"建党节","08-01":"建军节","09-10":"教师节","10-01":"国庆节","11-01":"万圣节","12-13":"国家公祭日","12-24":"平安夜","12-25":"圣诞节"},Y={"01-10":"中国人民警察节","01-26":"国际海关日","02-02":"世界湿地日","02-10":"国际气象节","03-01":"国际海豹日","03-03":"全国爱耳日","03-05":"雷锋纪念日","03-09":"保护母亲河日","03-14":"国际警察日","03-15":"消费者权益日","03-17":"国际航海日","03-18":"全国爱肝日","03-21":"世界睡眠日","03-22":"世界水日","03-23":"世界气象日","03-24":"防治结核病日","03-27":"学生安全教育日","04-07":"世界卫生日","04-13":"泼水节","04-15":"国家安全教育日","04-22":"世界地球日","04-23":"世界读书日","04-24":"中国航天日","04-26":"知识产权日","05-02":"世界哮喘日","05-08":"世界微笑日 世界红十字日","05-12":"国际护士节 防灾减灾日","05-15":"国际家庭日","05-18":"博物馆日","05-20":"学生营养日","05-22":"生物多样性日","05-31":"世界无烟日","06-06":"世界环境日","06-06":"全国爱眼日","06-11":"中国人口日","06-14":"世界献血者日","06-23":"国际奥林匹克日","06-25":"全国土地日","06-26":"国际禁毒日","07-01":"香港回归日","07-02":"体育记者日","07-11":"世界人口日","08-08":"全民健身日","08-12":"国际青年节","08-19":"中国医师节","08-26":"律师咨询日","09-08":"国际扫盲日","09-16":"中国脑健康日 臭氧层保护日","09-17":"清洁地球日","09-18":"九一八纪念日","09-20":"全国爱牙日","09-21":"国际和平日","09-27":"世界旅游日","09-30":"烈士纪念日","10-04":"世界动物日","10-05":"世界教师日","10-08":"全国高血压日","10-09":"世界邮政日","10-13":"世界保健日","10-14":"世界标准日","10-15":"国际盲人节","10-16":"世界粮食日","11-08":"记者节","11-09":"消防宣传日","11-14":"世界糖尿病日","11-17":"世界学生日","12-01":"艾滋病日","12-03":"国际残疾人日","12-04":"国家宪法日","12-09":"世界足球日","12-10":"世界人权日","12-11":"国际山岳日","12-15":"强化免疫日"},T={"05-02-00":"母亲节","06-03-00":"父亲节","11-04-04":"感恩节"};function w(l,a,k){u(a,k),12==a&&function(l,a,k){let t=parseInt(e[l-n],32),g=t&1<<16-a?30:29;k&&a==leapMonth&&(g=65536&t?30:29)}(l,12)}function H(l){let a=k(l);a.zodiac=function(l,a){let k=11;return D.forEach((function(n,t){l==t+1&&a==n&&(k=t%12)})),p[k]+"座"}(a.sMonth,a.sDay);let n=[],t=m(l);return t&&(Object.assign(a,t),a.gzYearZH=function(l){let a=l-1984;a=a%60>0?a%60:a%60+60;let k=a%12;return d[a%10]+s[k]}(a.lYear),a.gzMonthZH=function(l,a,k){let n=0,t=b(l);t.push(31),t.forEach((function(l,t){let e=Math.floor(t/2)+1;u(e,l)>=u(a,k)&&(n||(n=e))})),n+=12*(l-1984)-1,n=n%60>0?n%60:n%60+60;let e=n%12;return d[n%10]+s[e]}(a.sYear,a.sMonth,a.sDay),a.gzDayZH=f(a.sYear,a.sMonth,a.sDay),a.animal=function(l){let a=(l-1984)%12;return y[a>-1?a:a+12]}(a.lYear),a.term=function(l,a,k){let n="",t=b(l);return t.push(31),t.forEach((function(l,t){let e=Math.floor(t/2)+1;a==e&&k==l&&(n=q[t])})),n}(a.sYear,a.sMonth,a.sDay),n=n.concat(function(l,a,n){let t=[],e=b(l),g=864e5,r=new Date(l,5,e[11]),i=new Date(l,7,e[14]),o=0;for(let e=r.getTime();e<=i.getTime();e+=g){let g=k(e);f(g.sYear,g.sMonth,g.sDay).indexOf("庚")>-1&&(o++,g.sYear==l&&g.sMonth==a&&g.sDay==n&&(3==o?t.push("初伏"):4==o&&t.push("中伏")))}o=0;for(let e=i.getTime();e<=i.getTime()+1728e6;e+=g){let g=k(e);f(g.sYear,g.sMonth,g.sDay).indexOf("庚")>-1&&(o++,g.sYear==l&&g.sMonth==a&&g.sDay==n&&(1==o?t.push("末伏"):2==o&&t.push("出伏")))}let c=new Date(l,2,e[5]),u=!1,d=!1;for(let e=c.getTime();e<=c.getTime()+2592e6;e+=g)if(u){if(!d){let g=k(e);0==g.week&&(d=!0,g.sYear==l&&g.sMonth==a&&g.sDay==n&&t.push("复活节"))}}else 15==m(e).lDay&&(u=!0);return t}(a.sYear,a.sMonth,a.sDay)),n=n.concat(w(a.lYear,a.lMonth,a.lDay))),n=n.concat(function(l,a,k){let n=[],t=new Date(l,a-1,k),e=t.getDate(),g=t.getDay(),r=Math.ceil(e/7),i=u(a,k);return M[i]&&n.push(M[i]),Y[i]&&n.push(Y[i]),i=u(a,r,g),T[i]&&n.push(T[i]),n}(a.sYear,a.sMonth,a.sDay)),a.festival=n.join(" "),a}return{Solar:function(l,k,n){let t=a(l,k,n);return t?H(t):null},Lunar:function(l,a,k,g){let r=function(l,a,k,g){if(l<n||l>t)return null;if(a<1||a>12)return null;let r=o(l);if(g&&r!=a)return null;if(k>((g?65536&u:1<<17-a)?30:29))return null;let m=0,u=parseInt(e[l-n],32);for(let a=n;a<l;a++)m+=c(a);for(let l=1;l<a||g&&l==a;l++)m+=u&1<<16-l?30:29;return g&&a>r&&(m+=65536&u?30:29),m+=k,i+864e5*m}(l,a,k,g);return r?H(r):null},getToday:function(){return H((new Date).getTime())}}}));
